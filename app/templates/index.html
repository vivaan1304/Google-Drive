{% extends "base.html" %}

{% block content %}
<h1>Hi {{ current_user.username }} </h1>
<form method="POST" action="{{ url_for('upload') }}" enctype="multipart/form-data">
    {{ form.hidden_tag() }}
    {{ form.file.label(class='form-label') }}
    <div class="row g-3">
        <div class="col-auto">{{ form.file(class='form-control') }}</div>
    </div>
    <br>
    {{ form.submit(class='btn btn-primary') }}
</form>
<br><br>
<div class="container">
    <label class="form-label">Add Folder</label>
    <input type="text" id="folder-name" class="form-control">
    <button id="folder-submit">Submit</button>
</div>
<hr>

<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-folder" viewBox="0 0 16 16">
    <path d="M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"/>
</svg>
<div class="container" id = "path">
    <!-- {{cur_path}} -->
</div>
<div>
    {% for i in lst %}
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file" viewBox="0 0 16 16">
        <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"/>
    </svg>
    <a href=" {{ url_for('download', fname=i) }} ">{{i}}</a>
    <br>
    {% endfor %}
</div>








<script>
//    let currentPath = Array("{{cur_path}}")
    let currentPath = ['root'];
    //if(localStorage.getItem('stored_path')!=null){
     //   currentPath=localStorage.getItem('stored_path').split(',');
       // console.log(currentPath)
        //console.
    // } -->
</script>
<script src="static/main.js"></script>
{% endblock %}

